{# TEMPLATE: image-overlay — Full background image with positioned text box overlay.
   NOTE: Use inline style for background-image, NOT data-background-image.
   Reveal.js data-background-* renders in the full viewport (including theater margins),
   while inline style keeps the image within the 960×540 slide bounds. #}
{% set img_src = slide.image | resolveImage %}
<section class="slide-image-overlay" style="background-image: url('{{ img_src }}'); background-size: cover; background-position: center;">
  <div class="slide-body">
    <div class="overlay-box {{ slide.position | default('bottom-left') }}">
      {% if slide.title %}<h3>{{ slide.title }}</h3>{% endif %}
      {% if slide.text %}<p>{{ slide.text }}</p>{% endif %}
      {% if slide.items %}
      <ul>
        {% for item in slide.items %}<li>{{ item }}</li>
        {% endfor %}
      </ul>
      {% endif %}
    </div>
    {% if slide.notes %}<aside class="notes">{{ slide.notes }}</aside>{% endif %}
  </div>
  {% if global_footer and not slide.hide_footer %}
  {% set reference = slide.reference %}
  {% set reference_link = slide.reference_link %}
  {% set references = slide.references %}
  {% include "slides/footer.njk" %}
  {% endif %}
</section>
